(this["webpackJsonpmaplestory-music"]=this["webpackJsonpmaplestory-music"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),i=(n(88),n(9)),l=n(1),u=(n(89),n(50)),s=n(22),b=n(10),d=n(14),m=n(141),p=n(139),h=n(62);function j(){const e=Object(i.a)(["\n        @media (min-width: 1024px) {\n          margin-right: 33vw;\n        }\n      "]);return j=function(){return e},e}var g=()=>Object(l.b)("div",null,Object(l.b)("div",{css:Object(l.a)(j())},Object(l.b)("h2",null,"About"),Object(l.b)("p",null,"This database catalogs music from every region of MapleStory and aims to be the definitive resource for MapleStory music. It will be updated whenever new songs are added to the client of any region."),Object(l.b)("h6",null,Object(l.b)("b",null,"Music Playback")),Object(l.b)("p",null,"Music is played within an embedded YouTube player. The track is looped upon completion, unless in the shuffled playlist mode (see below)."),Object(l.b)("h6",null,Object(l.b)("b",null,"Shuffled Playlist")),Object(l.b)("p",null,"The shuffled playlist feature randomizes the entire music collection and plays upcoming songs automatically. Skip to the next track or return to the previous track with the controls under the media player."),Object(l.b)("h6",null,Object(l.b)("b",null,"Grid Controls")),Object(l.b)("p",null,"To sort by a column, press the column header. Hover over a column header and press the menu icon to access the advanced filter dialog. Mobile users can access the filter dialog by pressing and holding the column header.")),Object(l.b)("h2",null,"Source"),Object(l.b)("p",null,"The following GitHub projects power this site."),Object(l.b)("div",{className:"gh-project-entry"},Object(l.b)(h.a,{href:"https://github.com/maplestory-music/maplebgm-db","data-size":"large","data-show-count":!0,"aria-label":"Star maplestory-music/maplebgm-db on GitHub"},"Star"),Object(l.b)("h5",{className:"gh-project-name"},"maplebgm-db: Definitive MapleStory music database")),Object(l.b)("div",{className:"gh-project-entry"},Object(l.b)(h.a,{href:"https://github.com/maplestory-music/maplestory-music.github.io","data-size":"large","data-show-count":!0,"aria-label":"Star maplestory-music/maplestory-music.github.io on GitHub"},"Star"),Object(l.b)("h5",{className:"gh-project-name"},"maplestory-music: MapleStory Music website"))),O=n(33),f=n(132),y=n(133),v=n(138),w=n(134),k=n(140),S=n(135),x=n(136),C=n(137),N=n(71),E=n.n(N),T=n(72),M=(n(118),n(119),n(143)),R=n(142),D=n(131);const P=e=>{const t=document.createElement("span"),n=document.createElement("img");return n.src="mark/".concat(e.value,".png"),n.alt="icon",t.appendChild(n),t},V=e=>{const t=document.createElement("span");if(""===e.youtube)t.innerHTML=e.title;else{const n=t=>{d.a.event({category:"Video",action:"View Embedded Video",label:e.youtube}),e.onSongChange(e.youtube),t.preventDefault()},a=t=>{d.a.event({category:"Video",action:"View External Video",label:e.youtube})},r=document.createElement("a");r.href="https://youtu.be/".concat(e.youtube),r.rel="noopener noreferrer",r.target="_blank",r.onclick=a,r.title="View on YouTube",r.className="ext-link";const c=document.createElement("i");c.className="fa fa-external-link",r.appendChild(c);const o=document.createElement("a");o.innerHTML=e.title,o.href="# ",o.rel="noopener noreferrer",o.onclick=n,t.appendChild(r),t.appendChild(o)}return t},z=e=>{const t=document.createElement("div");t.className="date-col";const n=document.createElement("span"),a=e.value,r=Object(M.a)(a),c=new Date,o=Object(R.a)(c,r)<3||Object(D.a)(r);if(n.innerHTML=a,t.appendChild(n),o){n.className="recent-track";const e=document.createElement("i");e.className="fa fa-star",e.setAttribute("aria-hidden","true"),e.title="Recent Track",t.appendChild(e)}return t},A=r.a.createContext(void 0),H=({children:e})=>{const t=r.a.useState([]),n=Object(O.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)(()=>{fetch("https://raw.githubusercontent.com/maplestory-music/maplebgm-db/prod/bgm.min.json").then(e=>e.json()).then(e=>{const t=e.map(e=>(e.source.client&&e.source.version&&(e.source.cliver="".concat(e.source.client," ").concat(e.source.version)),e));o(t)})},[o]),r.a.createElement(A.Provider,{value:c},e)},F=()=>{const e=r.a.useContext(A);if(!e)throw new Error("useDataSourceState must be used within a DataSourceProvider");return e};function G(){const e=Object(i.a)(["\n        margin: auto;\n        width: 95vw;\n        margin-bottom: 15px;\n      "]);return G=function(){return e},e}var L=({query:e,onSongChange:t})=>{const n=F(),r=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)([]),i=Object(a.useRef)(void 0);o.current=(e=>[{headerName:"",field:"mark",minWidth:70,maxWidth:70,resizable:!1,cellRenderer:P,getQuickFilterText:()=>""},{headerName:"Title",field:"metadata.title",minWidth:250,cellRenderer:V,cellRendererParams:t=>({title:t.value,youtube:t.data.youtube,onSongChange:e})},{headerName:"Description",minWidth:375,field:"description"},{headerName:"Folder",field:"source.structure",getQuickFilterText:()=>""},{headerName:"Date",field:"source.date",sort:"desc",cellRenderer:z,getQuickFilterText:()=>""},{headerName:"Client",field:"source.cliver",getQuickFilterText:()=>""}])(t),i.current={animateRows:!0,pagination:!0,paginationPageSize:25,suppressColumnVirtualisation:!0,suppressMovableColumns:!0,rowHeight:45,defaultColDef:{sortable:!0,filter:!0,resizable:!0},domLayout:"autoHeight"},Object(a.useEffect)(()=>{var t;null===(t=r.current)||void 0===t||t.setQuickFilter(e)},[e]);return Object(l.b)("div",{css:Object(l.a)(G()),className:"ag-theme-balham"},Object(l.b)(T.AgGridReact,{columnDefs:o.current,rowData:n,gridOptions:i.current,onFirstDataRendered:e=>{e.columnApi.autoSizeAllColumns()},onGridReady:e=>{r.current=e.api,c.current=e.columnApi}}))};function W(){const e=Object(i.a)(["\n          margin: 10px 14vw;\n        "]);return W=function(){return e},e}function B(){const e=Object(i.a)(["\n                    background-color: #343a40;\n                    border-color: #343a40;\n                    color: white;\n                    padding: 0.25rem 0.5rem;\n                    font-size: 0.875rem;\n                    line-height: 1.5;\n                    border: 1px solid transparent;\n                    margin-left: -1px;\n                  "]);return B=function(){return e},e}function Q(){const e=Object(i.a)(["\n                margin-top: 5px;\n              "]);return Q=function(){return e},e}function q(){const e=Object(i.a)(["\n              display: block;\n              margin-left: auto;\n              margin-right: auto;\n              max-width: 100vw;\n            "]);return q=function(){return e},e}function I(){const e=Object(i.a)(["\n                display: block;\n                margin-left: auto;\n                margin-right: auto;\n                margin-bottom: 10px;\n              "]);return I=function(){return e},e}var J=()=>{const e=F(),t=Object(a.useState)(),n=Object(O.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(),i=Object(O.a)(o,2),u=i[0],s=i[1],b=Object(a.useRef)(null),m=Object(a.useRef)([]),p=Object(a.useRef)(-1),h=()=>-1!==p.current&&m.current.length>0;return Object(l.b)("div",null,void 0===u?Object(l.b)(a.Fragment,null,Object(l.b)("div",null,Object(l.b)("img",{css:Object(l.a)(I()),id:"header-logo",src:"assets/pink-bean.png",alt:"header logo"})),Object(l.b)("div",null,Object(l.b)("p",null,"Welcome to the MapleStory Music database. This site provides a complete listing of the background music (BGM) used in MapleStory. Collectively, the songs are also known as MapleStory's original soundtrack (OST)."))):Object(l.b)("div",null,Object(l.b)(E.a,{css:Object(l.a)(q()),ref:b,url:"https://youtu.be/".concat(u),playing:!0,controls:!0,onEnded:()=>{if(null!==b.current)if(h()){if(d.a.event({category:"Video",action:"Complete Playlist Video",label:u}),p.current===m.current.length-1)return;p.current+=1,s(m.current[p.current].youtube)}else b.current.seekTo(0),d.a.event({category:"Video",action:"Loop Embedded Video",label:u})}}),h()&&Object(l.b)("div",{className:"text-center",css:Object(l.a)(Q())},Object(l.b)(f.a,{size:"sm"},Object(l.b)(y.a,{variant:"outline-primary",onClick:()=>{p.current<1||(p.current-=1,s(m.current[p.current].youtube))},disabled:0===p.current},Object(l.b)("i",{className:"fa fa-step-backward"})),Object(l.b)("span",{css:Object(l.a)(B())},"".concat(Object(C.a)((p.current+1).toString(),m.current.length.toString().length,"0")," | ").concat(m.current.length)),Object(l.b)(y.a,{variant:"outline-primary",onClick:()=>{p.current!==m.current.length-1&&(p.current+=1,s(m.current[p.current].youtube))},disabled:p.current+1===m.current.length},Object(l.b)("i",{className:"fa fa-step-forward"}))))),Object(l.b)(v.a.Group,{css:Object(l.a)(W()),className:"filter-text"},Object(l.b)(w.a,{size:"lg"},Object(l.b)(w.a.Prepend,null,Object(l.b)(w.a.Text,null,Object(l.b)("i",{className:"fa fa-search"}))),Object(l.b)(v.a.Control,{type:"text",placeholder:"Song title or keyword",onChange:e=>{c(e.target.value)},onKeyPress:e=>{if("Enter"===e.key&&document.activeElement){document.activeElement.blur()}}}),!h()&&Object(l.b)(w.a.Append,null,Object(l.b)(k.a,{delay:{show:250,hide:100},overlay:Object(l.b)(S.a,{id:"tooltip-start-playlist"},"Start Shuffled Playlist")},Object(l.b)(y.a,{variant:"outline-success",onClick:()=>{m.current=Object(x.a)(e.filter(e=>""!==e.youtube&&e.youtube!==u)),s(m.current[0].youtube),p.current=0,d.a.event({category:"Playlist",action:"Start Shuffled Playlist",label:"Shuffle Button"})}},Object(l.b)("i",{className:"fa fa-random"})))))),Object(l.b)(L,{query:r,onSongChange:e=>{h()&&(m.current=[],p.current=-1),s(e)}}))};function Y(){const e=Object(i.a)(["\n      margin: 2% 3% 3% 3%;\n    "]);return Y=function(){return e},e}function K(){const e=Object(i.a)(["\n          margin-right: 8px;\n        "]);return K=function(){return e},e}function U(){const e=Object(i.a)(["\n      margin-bottom: 10px;\n    "]);return U=function(){return e},e}d.a.initialize("UA-53945508-5");const $=Object(b.a)();$.listen((e,t)=>{d.a.pageview(window.location.pathname)}),d.a.pageview(window.location.pathname);const _=e=>{e.currentTarget.pathname===window.location.pathname&&e.preventDefault()},X=()=>Object(l.b)(m.a,{css:Object(l.a)(U()),bg:"dark",variant:"dark",expand:"lg"},Object(l.b)(m.a.Brand,{as:u.a,to:"/",onClick:_},Object(l.b)("img",{css:Object(l.a)(K()),alt:"",src:"./assets/pb-logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ","MapleStory Music"),Object(l.b)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.b)(m.a.Collapse,{id:"basic-navbar-nav"},Object(l.b)(p.a,{className:"mr-auto"},Object(l.b)(p.a.Link,{as:u.b,exact:!0,to:"/",onClick:_},"Home"),Object(l.b)(p.a.Link,{as:u.b,exact:!0,to:"/about",onClick:_},"About")))),Z=()=>Object(l.b)("main",null,Object(l.b)(s.c,null,Object(l.b)(s.a,{exact:!0,path:"/",component:ee}),Object(l.b)(s.a,{path:"/about",component:te}))),ee=()=>Object(l.b)("div",{className:"App"},Object(l.b)(J,null)),te=()=>Object(l.b)("div",{css:Object(l.a)(Y()),className:"About"},Object(l.b)(g,null));var ne=()=>Object(l.b)(H,null,Object(l.b)(s.b,{history:$},Object(l.b)("div",null,Object(l.b)(X,null),Object(l.b)(Z,null))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},83:function(e,t,n){e.exports=n(124)},88:function(e,t,n){},89:function(e,t,n){}},[[83,1,2]]]);